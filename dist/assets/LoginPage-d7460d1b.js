import{u as x,r as m,o as E,c as V,w as s,a as e,b as c,d as h,e as k,f as y,E as S,g as b,h as I,l as L,p as B,i as N,j as d}from"./index-03b327db.js";import{E as P}from"./el-form-item-2b08ab09.js";/* empty css                 */import{_ as U,E as q,a as C}from"./_plugin-vue_export-helper-f78f4bee.js";import{E as F,a as K}from"./index-97b5a597.js";const M=a=>(B("data-v-933a2451"),a=a(),N(),a),T=M(()=>d("div",{class:"title"},[d("h1",null,"Login")],-1)),j={__name:"LoginPage",setup(a){const _=x(),t=m(),o=m({username:"",password:""}),f={username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:5,max:10,message:"用户名必须是5-10位的字符",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的字符",trigger:"blur"}]};console.log(this);const p=async()=>{if(!t.value)return;await t.value.validate();const l=await y(o.value);_.setToken(l.token),S.success(l.message),b.push("/")};return(l,r)=>{const i=q,n=F,g=C,w=K,v=P;return E(),V(v,{class:"login-page"},{default:s(()=>[e(w,{model:o.value,rules:f,ref_key:"form",ref:t,size:"large",autocomplete:"off"},{default:s(()=>[T,e(n,{prop:"username"},{default:s(()=>[e(i,{modelValue:o.value.username,"onUpdate:modelValue":r[0]||(r[0]=u=>o.value.username=u),"prefix-icon":c(I),placeholder:"username"},null,8,["modelValue","prefix-icon"])]),_:1}),e(n,{prop:"password"},{default:s(()=>[e(i,{onKeyup:h(p,["enter"]),modelValue:o.value.password,"onUpdate:modelValue":r[1]||(r[1]=u=>o.value.password=u),name:"password","prefix-icon":c(L),type:"password",placeholder:"password"},null,8,["modelValue","prefix-icon"])]),_:1}),e(n,null,{default:s(()=>[e(g,{onClick:p,"auto-insert-space":""},{default:s(()=>[k("Login")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}},G=U(j,[["__scopeId","data-v-933a2451"]]);export{G as default};
